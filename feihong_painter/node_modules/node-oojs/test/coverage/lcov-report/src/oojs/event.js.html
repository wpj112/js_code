<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src\oojs\event.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">src\oojs\event.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(136 / 136)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">79.07% <small>(102 / 129)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">91.67% <small>(11 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(136 / 136)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">src/oojs/</a> &#187; event.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231</span>
<span class="cline-any cline-yes">231</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">125</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">125</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">134</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">134</span>
<span class="cline-any cline-yes">134</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">134</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">134</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">23</span>
<span class="cline-any cline-yes">23</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">25</span>
<span class="cline-any cline-yes">25</span>
<span class="cline-any cline-yes">25</span>
<span class="cline-any cline-yes">31</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">28</span>
<span class="cline-any cline-yes">28</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">90</span>
<span class="cline-any cline-yes">90</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">90</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">86</span>
<span class="cline-any cline-yes">86</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">92</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">75</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-yes">95</span>
<span class="cline-any cline-yes">78</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88</span>
<span class="cline-any cline-yes">56</span>
<span class="cline-any cline-yes">56</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-yes">103</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">155</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">155</span>
<span class="cline-any cline-yes">155</span>
<span class="cline-any cline-yes">155</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">155</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-yes">162</span>
<span class="cline-any cline-yes">162</span>
<span class="cline-any cline-yes">162</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">104</span>
<span class="cline-any cline-yes">104</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-yes">54</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">49</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">49</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">50</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">154</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">oojs.define({
&nbsp;
    /**
     event类用于处理事件. 自身使用oojs框架实现. 内部实现全部oo化.
     var ev = oojs.create(oojs.event, );
     单事件绑定:
     ev.bind('eventA', function(data){
        console.log(data);
    });
     ev.emit('eventA', 'I am A'); //output:I am A
&nbsp;
     事件组绑定:
     ev.bind('eventA', function(data){
        console.log(data);
        return 'Hello ';
    });
     ev.bind('eventB', function(data){
        console.log(data);
        return 'world!';
    });
     //创建事件组, 只有当eventA和eventB都执行完成后, 才会调用事件组的回调函数
     ev.group('MyGroup', ['eventA', 'eventB'], function(data){
        dataA = data['eventA'];
        dataB = data['eventB'];
        console.log(dataA + dataB);
        console.log(dataB);
    });
     ev.emit('eventA', 'I am A'); //output:I am A
     ev.emit('eventB', 'I am B'); //output:I am B
     //output: Hello World!
&nbsp;
     */
    name: 'event',
    namespace: 'oojs',
&nbsp;
    /**
     event集合. 记录所有绑定的事件.
     格式为:
     {
         eventName:{
             name: eventName,	//event名
             callbacks: [{
                     callback:function(){},	//回调函数
                     data:null,  	        //回调函数返回的数据
                     needTimes:1,			//希望执行的次数, 默认为 1
                     emitTimes:0			//已经执行了的次数, 默认为 0
                 }],
             emitData:[],		//执行emit时传递的数据
             status:false,		//true表示已经触发过 emit
             groups:{}			//所属groupName索引
         }
     }
     */
    eventList: null,
&nbsp;
    /**
     group集合.
     格式为:
     {
        groupName:{
             name: groupName,	//group名
             callbacks: [{
                     callback:function(){},	//回调函数
                     data:null,  	        //回调函数返回的数据
                     needTimes:1,			//希望执行的次数, 默认为 1
                     emitTimes:0				//已经执行了的次数, 默认为 0
                 }],
             emitData:[],		//执行emit时传递的数据
             status:false,		//true表示已经触发过 emit
             events:{},			//group内的eventName数组索引
             previousGroups:{},	//group前节点groupName数组索引
             afterGroups:{}		//group后节点groupName数组索引
         }
     }
     */
    groupList: null,
&nbsp;
    /**
     * 静态构造函数
     */
    $event: function () {
    },
&nbsp;
    /**
     * 动态构造函数
     */
    event: function () {
        this.eventList = {};
        this.groupList = {};
        this.eventGroupIndexer = {};
    },
&nbsp;
    /**
     * 创建一个 Callback
     * {
            callback:function(){},	//回调函数
            data:null,  	        //回调函数返回的数据
            needTimes:1,			//希望执行的次数, 默认为 1
            emitTimes:0				//已经执行了的次数, 默认为 0
        }
     */
    createCallback: function (callback, needTimes, emitTimes) {
        callback = typeof callback !== 'undefined' ? callback : <span class="fstat-no" title="function not covered" ><span class="branch-1 cbranch-no" title="branch not covered" >function () {</span></span>
        };
        needTimes = typeof needTimes !== 'undefined' ? needTimes : <span class="branch-1 cbranch-no" title="branch not covered" >1;</span>
        emitTimes = typeof emitTimes !== 'undefined' ? <span class="branch-0 cbranch-no" title="branch not covered" >emitTimes </span>: 0;
&nbsp;
        return {
            callback: callback,
            data: null,
            needTimes: needTimes,
            emitTimes: emitTimes
&nbsp;
        };
    },
&nbsp;
    /**
     * 创建一个event对象.
     */
    createEvent: function (eventName) {
        var result = {
            name: eventName,
            callbacks: [],
            callbackData: [],
            emitData: [],
            status: false,
            groups: {}
&nbsp;
        };
        return result;
    },
&nbsp;
    /**
     * 创建一个group对象.
     */
    createGroup: function (groupName) {
        var result = {
            name: groupName,
            callbacks: [],
            callbackData: [],
            emitData: [],
            status: false,
            events: {},
            previousGroups: {},
            afterGroups: {}
&nbsp;
        };
        return result;
    },
&nbsp;
    /**
     * 为事件添加事件处理函数
     * @param {string} eventName 事件名
     * @param {Function} callback 事件处理函数
     * @param {number} times 可以不传递, 事件处理函数执行几次, 默认为1次, 循环执行传递-1
     */
    bind: function (eventName, callback, times) {
        // 设置times默认值. 如果传递的times不正确, 则设置为默认值1
        times = typeof times !== 'number' ? 1 : times;
&nbsp;
        // 如果event对象不存在,则创建新的event对象
        var ev = this.eventList[eventName] = this.eventList[eventName] || this.createEvent(eventName);
        ev.callbacks.push(this.createCallback(callback, times));
&nbsp;
        // 如果事件已经触发过, 则立刻执行
        if (ev.status &amp;&amp; ev.emitData.length) {
            for (var i = 0, count = ev.emitData.length; i &lt; count; i++) {
                this.emit(ev.name, ev.emitData[i]);
            }
            // 执行完毕后清空eventData, 避免重复调用.
            ev.emitData = [];
        }
        return this;
    },
&nbsp;
    /**
     * 为事件取消绑定事件处理函数.
     * 一个参数: 只传递一个参数 eventName 则删除此eventName的所有callback
     * 两个参数: 同时传递eventName和callback 则删除此eventName的指定callback
     * 无参数:   表示移除所有事件的所有callback
     * @param {string} eventName 事件名
     * @param {Function} callback 事件处理函数
     */
    unbind: function (eventName, callback) {
        if (!eventName &amp;&amp; !callback){
            // 移除所有事件处理函数
            for (var key in this.eventList) {
                <span class="missing-if-branch" title="else path not taken" >E</span>if (key &amp;&amp; this.eventList[key] &amp;&amp; this.eventList.hasOwnProperty(key)) {
                    this.unbind(key);
                }
            }
        }
        else{
            var eventItem = this.eventList[eventName];
            <span class="missing-if-branch" title="else path not taken" >E</span>if (eventItem &amp;&amp; eventItem.callbacks &amp;&amp; eventItem.callbacks.length) {
                for (var i = 0, count = eventItem.callbacks.length; i &lt; count; i++) {
                    if (callback) {
                        // 移除某一个事件的某一个事件处理函数
                        if (eventItem.callbacks[i].callback === callback) {
                            eventItem.callbacks[i].callback = null;
                            eventItem.callbacks[i].needTimes = 0;
                        }
                    }
                    else{
                        // 移除某一个事件的所有事件处理函数
                        eventItem.callbacks[i].callback = null;
                        eventItem.callbacks[i].needTimes = 0;
                    }
                }
            }
        }
&nbsp;
    },
&nbsp;
    /**
     * 事件触发.
     * @param {string} eventName 事件名
     * @param {Object} data 事件数据, 会传递给事件处理函数
     */
    emit: function (eventName, data) {
        var ev = this.eventList[eventName] = this.eventList[eventName] || this.createEvent(eventName);
        ev.status = true;
&nbsp;
        if (!ev.callbacks || !ev.callbacks.length) {
            // 只有一种情况需要缓存emitData: event未绑定任何事件处理函数
            ev.emitData.push(data);
        }
        else {
            // 执行event的所有callback
            <span class="missing-if-branch" title="else path not taken" >E</span>if (ev.callbacks &amp;&amp; ev.callbacks.length) {
                for (var i = 0, count = ev.callbacks.length; i &lt; count; i++) {
                    var callbackItem = ev.callbacks[i];
                    var callbackFunction = callbackItem.callback;
&nbsp;
                    var needRun = false;
                    if (callbackItem.needTimes === -1) {
                        // 设置-1表示循环执行
                        needRun = true;
                    }
                    else {
                        if (callbackItem.needTimes &gt; 0 &amp;&amp; callbackItem.emitTimes &lt; callbackItem.needTimes) {
                            // 未达到设置的最大执行次数
                            needRun = true;
                        }
                    }
&nbsp;
                    callbackItem.emitTimes++;
                    if (needRun &amp;&amp; callbackFunction) {
                        callbackItem.data = callbackFunction(data);
                    }
                }
            }
        }
&nbsp;
        // 处理group
        for (var groupName in ev.groups) {
            <span class="missing-if-branch" title="else path not taken" >E</span>if (groupName &amp;&amp; ev.groups.hasOwnProperty(groupName) &amp;&amp; ev.groups[groupName]) {
                this.groupEmit(groupName);
            }
        }
        return this;
    },
&nbsp;
    /**
     * 创建事件组
     * @param {string} groupName 事件组名,需要在当前event对象中唯一
     * @param {string|Array} eventNames 需要绑定的事件名或事件名集合
     * @param {Function} callback 事件组中的事件全部完成时, 执行的事件处理函数
     * @param {number} times 可以不传递, 事件处理函数执行几次, 默认为1次, 循环执行传递-1
     */
    group: function (groupName, eventNames, callback, times) {
        var group = this.groupList[groupName] = this.groupList[groupName] || this.createGroup(groupName);
        times = typeof times === 'undefined' ? 1 : times;
&nbsp;
        // 添加group的callback
        <span class="missing-if-branch" title="else path not taken" >E</span>if (callback) {
            callback = callback instanceof Array ? <span class="branch-0 cbranch-no" title="branch not covered" >callback </span>: [
                callback
            ];
            for (var i = 0, count = callback.length; i &lt; count; i++) {
                group.callbacks.push(this.createCallback(callback[i], times));
            }
        }
&nbsp;
        // eventNames可以是string或Array
        var eventName;
        eventNames = typeof eventNames === 'string' ? [
            eventNames
        ] : eventNames;
        for (var i = 0, count = eventNames.length; i &lt; count; i++) {
            eventName = eventNames[i];
            // 如果event不在此分组中, 则添加到分组
            <span class="missing-if-branch" title="else path not taken" >E</span>if (!group.events[eventName]) {
                group.status = false; // 新添加了事件, 设置group的状态为false
                // 如果事件不存在则创建
                var ev = this.eventList[eventName] = this.eventList[eventName] || <span class="branch-1 cbranch-no" title="branch not covered" >this.createEvent(eventName);</span>
                ev.groups[groupName] = 1;
                group.events[eventName] = 1;
            }
        }
&nbsp;
        // 触发一次 groupEmit, 如果新绑定的event已经是执行完毕的, 则group会立刻触发
        <span class="missing-if-branch" title="else path not taken" >E</span>if (eventNames.length &gt; 0) {
            this.groupEmit(groupName);
        }
        return this;
    },
&nbsp;
    /**
     * 事件组触发函数
     * @param {string} groupName 事件组名
     */
    groupEmit: function (groupName) {
        var group = this.groupList[groupName] = this.groupList[groupName] || <span class="branch-1 cbranch-no" title="branch not covered" >this.createGroup(groupName);</span>
&nbsp;
        // 首先检查 afterGroups, 如果afterGroups没有准备完毕, 则立刻停止emit
        var afterGroups = group.afterGroups;
        var afterGroupFinished = true;
        for (var afterGroupName in afterGroups) {
            <span class="missing-if-branch" title="else path not taken" >E</span>if (afterGroupName &amp;&amp; afterGroups.hasOwnProperty(afterGroupName)) {
                <span class="missing-if-branch" title="else path not taken" >E</span>if (this.groupList[afterGroupName]) {
                    // 存在group, 检查group是否已完成
                    if (!this.groupList[afterGroupName].status) {
                        afterGroupFinished = false;
                    }
                }
            }
        }
&nbsp;
        // 如果 afterGroups 存在未完成的group, 则立刻停止运行.
        if (!afterGroupFinished) {
            return this;
        }
&nbsp;
        // 检索group中的所有event是否执行完毕
        var events = group.events;
        var eventFinished = true;
        var ev;
        for (var eventName in events) {
            <span class="missing-if-branch" title="else path not taken" >E</span>if (eventName &amp;&amp; events.hasOwnProperty(eventName) &amp;&amp; events[eventName]) {
                ev = this.eventList[eventName] = this.eventList[eventName] || <span class="branch-1 cbranch-no" title="branch not covered" >this.createEvent(eventName);</span>
                if (!ev.status) {
                    // 事件未完成
                    eventFinished = false;
                    break;
                }
            }
        }
&nbsp;
        // 所有的event已经完成
        if (eventFinished) {
            // 设置group已完成
            group.status = true;
&nbsp;
            // 获取event callback的返回数据
            var eventCallbackData = {};
            for (var eventName in events) {
                <span class="missing-if-branch" title="else path not taken" >E</span>if (eventName &amp;&amp; events.hasOwnProperty(eventName) &amp;&amp; events[eventName]) {
                    var callbacks = this.eventList[eventName].callbacks;
                    eventCallbackData[eventName] = [];
                    for (var i = 0, count = callbacks.length; i &lt; count; i++) {
                        eventCallbackData[eventName].push(callbacks[i].data);
                    }
                    // 如果数组中只有一个元素, 则不传递数组直接传递元素.
                    <span class="missing-if-branch" title="else path not taken" >E</span>if (eventCallbackData[eventName].length === 1) {
                        eventCallbackData[eventName] = eventCallbackData[eventName][0];
                    }
                }
            }
&nbsp;
            // 执行group的回调函数
            <span class="missing-if-branch" title="else path not taken" >E</span>if (group.callbacks &amp;&amp; group.callbacks.length) {
                for (var i = 0, count = group.callbacks.length; i &lt; count; i++) {
                    var callbackItem = group.callbacks[i];
                    var callbackFunction = callbackItem.callback;
                    var needRun = false;
                    if (callbackItem.needTimes === -1) {
                        // 设置-1表示循环执行
                        needRun = true;
                    }
                    else {
                        <span class="missing-if-branch" title="else path not taken" >E</span>if (callbackItem.needTimes &gt; 0 &amp;&amp; callbackItem.emitTimes &lt; callbackItem.needTimes) {
                            // 未达到设置的最大执行次数
                            needRun = true;
                        }
                    }
                    callbackItem.emitTimes++;
                    <span class="missing-if-branch" title="else path not taken" >E</span>if (needRun &amp;&amp; callbackFunction) {
                        callbackItem.data = callbackFunction(eventCallbackData);
                    }
                }
            }
&nbsp;
            // 执行previousGroups的emit
            var previousGroups = group.previousGroups;
            for (var previousGroupName in previousGroups) {
                <span class="missing-if-branch" title="else path not taken" >E</span>if (previousGroupName &amp;&amp; previousGroups.hasOwnProperty(previousGroupName)) {
                    this.groupEmit(previousGroupName);
                }
            }
        }
&nbsp;
        return this;
    },
&nbsp;
    /**
     * 构造事件组队列.     *
     * ev.queue(['groupA, groupB'], ['groupC'], ['groupD', 'groupE']);
     *ev.queue('groupA', ['groupB','groupC'], 'groupD');
     */
    queue: function (previousGroupName, nextGroupName) {
        var args = Array.prototype.slice.apply(arguments);
        var previousGroups;
        var nextGroups;
        for (var i = 1, count = args.length; i &lt; count; i++) {
            previousGroups = args[i - 1];
            nextGroups = args[i];
&nbsp;
            // 都处理成数组统一处理
            previousGroups = previousGroups instanceof Array ? <span class="branch-0 cbranch-no" title="branch not covered" >previousGroups </span>: [
                previousGroups
            ];
            nextGroups = nextGroups instanceof Array ? <span class="branch-0 cbranch-no" title="branch not covered" >nextGroups </span>: [
                nextGroups
            ];
&nbsp;
            // 添加关联关系
            for (var j = 0, jcount = previousGroups.length; j &lt; jcount; j++) {
                var previousGroupName = previousGroups[j];
                this.groupList[previousGroupName] = this.groupList[previousGroupName] || <span class="branch-1 cbranch-no" title="branch not covered" >this.createGroup(previousGroupName);</span>
                var previousGroup = this.groupList[previousGroupName];
                for (var k = 0, kcount = nextGroups.length; k &lt; kcount; k++) {
                    var nextGroupName = nextGroups[k];
                    this.groupList[nextGroupName] = this.groupList[nextGroupName] || <span class="branch-1 cbranch-no" title="branch not covered" >this.createGroup(nextGroupName);</span>
                    var nextGroup = this.groupList[nextGroupName];
                    // 添加关联
                    previousGroup.afterGroups[nextGroupName] = 1;
                    nextGroup.previousGroups[previousGroupName] = 1;
                }
            }
        }
    }
});
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Oct 13 2015 16:46:59 GMT+0800 (中国标准时间)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
